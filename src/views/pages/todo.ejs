<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Todoister - todo</title>
		<!-- BOOTSTRAP STYLES-->
		<link href="assets/css/bootstrap.css" rel="stylesheet" />
		<!-- FONTAWESOME STYLES-->
		<link href="assets/css/font-awesome.css" rel="stylesheet" />
		<!-- MORRIS CHART STYLES-->
		<!-- <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" /> -->
		<!-- CUSTOM STYLES-->
		<link href="assets/css/custom.css" rel="stylesheet" />
		<!-- GOOGLE FONTS-->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div id="wrapper">
			<%- include('../partials/topbar.ejs'); %>
			<!-- /. NAV TOP  -->
			<%- include('../partials/navbar.ejs'); %>
			<!-- /. NAV SIDE  -->
			<div id="page-wrapper">
				<div id="page-inner">
					<div class="page-content page-container" id="page-content">
						<div class="row container d-flex justify-content-center">
							<div class="col-md-12">
								<div class="card px-3">
									<div class="card-body">
										<h4 class="card-title">Add tasks</h4>
										<div class="add-items d-flex">
											<input
												type="text"
												class="form-control todo-list-input"
												id="add-task-field"
												placeholder="What do you need to do today?"
											/>
											<button
												class="add btn btn-primary font-weight-bold todo-list-add-btn"
												id="todo-list-add-btn"
											>
												Add
											</button>
											<input type="hidden" id="user_id" value="<%= item._id %>" />
										</div>
										<div class="list-wrapper">
											<ul class="d-flex flex-column-reverse todo-list">
												<li>
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" /> For what reason
															would it be advisable. <i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
												<li class="completed">
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" checked="" />
															For what reason would it be advisable for me to think.
															<i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
												<li>
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" /> it be advisable
															for me to think about business content?
															<i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
												<li>
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" /> Print Statements
															all <i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
												<li class="completed">
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" checked="" />
															Call Rampbo <i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
												<li>
													<div class="form-check">
														<label class="form-check-label">
															<input class="checkbox" type="checkbox" /> Print bills
															<i class="input-helper"></i
														></label>
													</div>
													<i class="remove mdi mdi-close-circle-outline"></i>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /. PAGE INNER  -->
			</div>
			<!-- /. PAGE WRAPPER  -->
		</div>
		<!-- /. WRAPPER  -->
		<!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
		<!-- JQUERY SCRIPTS -->
		<script src="assets/js/jquery-1.10.2.js"></script>
		<!-- BOOTSTRAP SCRIPTS -->
		<script src="assets/js/bootstrap.min.js"></script>
		<!-- METISMENU SCRIPTS -->
		<script src="assets/js/jquery.metisMenu.js"></script>
		<!-- MORRIS CHART SCRIPTS -->
		<script src="assets/js/morris/raphael-2.1.0.min.js"></script>
		<!-- <script src="assets/js/morris/morris.js"></script> -->
		<!-- CUSTOM SCRIPTS -->
		<script src="assets/js/custom.js"></script>

		<script>
			$(document).ready(function () {
				$('#todo-list-add-btn').on('click', function () {
					if ($('#add-task-field').val() != '') {
						var data = {
							modelName: 'tasks',
							title: $('#add-task-field').val(),
							completed: 0,
							priority: 0,
							user_id: $('#user_id').val(),
						};
						console.log('clicked');

						$.ajax({
							type: 'POST',
							url: 'http://localhost:44444/todo/add',
							data: JSON.stringify(data),
							contentType: 'application/json; charset=utf-8',
							success: function (res) {
								console.log(res);
							},
							errorf: function (err) {
								$('.error-show').html(err);
							},
							statusCode: {
								400: function (e) {
									$('.error-show').html(e.responseText);
								},
							},
						});
					}
				});
			});
		</script>
	</body>
</html>
